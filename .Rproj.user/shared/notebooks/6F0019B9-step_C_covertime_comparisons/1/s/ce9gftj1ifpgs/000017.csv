"0","sourceCpp('helpers/fastcover/fastcover_older_version.cpp')"
"0","sourceCpp(""helpers/fastcover/laplacian.cpp"")"
"0","sourceCpp(""helpers/fastcover/wilson.cpp"")"
"0",""
"0","reps = 10"
"0","init = 0"
"0",""
"0","num_vert = 250"
"0","density = c(0.01, 0.05, 0.1, 0.5)"
"0","spectral_gaps = rep(0, length(density))"
"0","runtime_aldous = matrix(rep(0, length(density)*reps), length(density), reps)"
"0","runtime_fast = matrix(rep(0, length(density)*reps), length(density), reps)"
"0","runtime_wilson = matrix(rep(0, length(density)*reps), length(density), reps)"
"0",""
"0","set.seed(100)"
"0",""
"0","for (j in 1:length(density)) {"
"0","  ## Generate graph with bottle neck "
"0","  dens = density[j]"
"0","  "
"0","  A_1<- matrix(rep(num_vert*num_vert), num_vert, num_vert)"
"0","  A_2<- matrix(rep(num_vert*num_vert), num_vert, num_vert)"
"0","  "
"0","  U_1 = matrix(runif(num_vert*num_vert, 0, 1), num_vert, num_vert)"
"0","  U_1 = (U_1 + t(U_1))/2"
"0","  U_2 = matrix(runif(num_vert*num_vert, 0, 1), num_vert, num_vert)"
"0","  U_2 = (U_2 + t(U_2))/2"
"0","  "
"0","  A <- matrix(0, 2*num_vert, 2*num_vert)"
"0","  A[1:num_vert, 1:num_vert] <- U_1*A_1"
"0","  A[(num_vert + 1):(2*num_vert),(num_vert + 1):(2*num_vert)] <- U_2*A_2"
"0","  diag(A) <- 0"
"0","  "
"0","  off_diags = matrix(rbinom(num_vert^2, 1, dens), num_vert, num_vert)"
"0","  U_between = matrix(runif(num_vert*num_vert, 0, 1), num_vert, num_vert)"
"0","  off_diags = off_diags * U_between"
"0","  "
"0","  A[1:num_vert, (num_vert + 1):(2*num_vert)] <- off_diags"
"0","  A[(num_vert + 1):(2*num_vert), 1:num_vert] <- t(off_diags)"
"0","  "
"0","  print(""aldous broder time: "")"
"0","  for (i in 1:reps) {"
"0","    runtime_aldous[j, i] = randomWalkCoverTimed(A, init)"
"0","  }"
"0",""
"0","  print(""fastcover time: "")"
"0","  for (i in 1:reps) {"
"0","    runtime_fast[j, i] = fastCoverThresholdCoverTimed(A, init, 1000, verbose = FALSE)"
"0","  }"
"0","  "
"0","  print(""wilson time: "")"
"0","  for (i in 1:reps) {"
"0","    runtime_wilson[j, i] = wilsonCoverTimed(A, init)"
"0","  }"
"0","  "
"0","  D = diag(rowSums(A))"
"0","  Dhalfinv = diag(1/sqrt(rowSums(A)))"
"0","  nL = Dhalfinv%*%(D-A)%*%Dhalfinv"
"0","  print(""spectral gap is"")"
"0","  gap = eigen(nL)$values[2*num_vert-1]"
"0","  print(1/sqrt(gap))"
"0","  spectral_gaps[j] = 1/sqrt(gap)"
"0","}"
"1","[1]"
"1"," ""aldous broder time: """
"1","
"
"1","[1]"
"1"," ""fastcover time: """
"1","
"
"1","[1]"
"1"," ""wilson time: """
"1","
"
"1","[1]"
"1"," ""spectral gap is"""
"1","
"
"1","[1]"
"1"," 1779.333"
"1","
"
"1","[1]"
"1"," ""aldous broder time: """
"1","
"
"1","[1]"
"1"," ""fastcover time: """
"1","
"
"1","[1]"
"1"," ""wilson time: """
"1","
"
"1","[1]"
"1"," ""spectral gap is"""
"1","
"
"1","[1]"
"1"," 779.7134"
"1","
"
"1","[1]"
"1"," ""aldous broder time: """
"1","
"
"1","[1]"
"1"," ""fastcover time: """
"1","
"
"1","[1]"
"1"," ""wilson time: """
"1","
"
"1","[1]"
"1"," ""spectral gap is"""
"1","
"
"1","[1]"
"1"," 567.984"
"1","
"
"1","[1]"
"1"," ""aldous broder time: """
"1","
"
"1","[1]"
"1"," ""fastcover time: """
"1","
"
"1","[1]"
"1"," ""wilson time: """
"1","
"
"1","[1]"
"1"," ""spectral gap is"""
"1","
"
"1","[1]"
"1"," 249.2012"
"1","
"
